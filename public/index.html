<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>IdentifyMe Apps | Landing Page</title>
	<link rel="icon" type="image/x-icon" href="assets/img/logo.jpeg">
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/fontawesome/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="vendor/aos/aos.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css?v=1.0.7">
	<script src="vendor/babel-js/babel.min.js"></script>
</head>
<body>
<header id="landingHero" class="position-relative">
	<div class="wave d-flex flex-column justify-content-stretch">
		<div class="flex-grow-1 pt-5">
			<h3 class="text-center title">COMING SOON</h3>
		</div>
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" class="bg-light" style="margin: -1px 0 1px 0;">
			<path fill="#dc3545" fill-opacity="1" d="M0,224L20,213.3C40,203,80,181,120,154.7C160,128,200,96,240,101.3C280,107,320,149,360,160C400,171,440,149,480,170.7C520,192,560,256,600,261.3C640,267,680,213,720,197.3C760,181,800,203,840,213.3C880,224,920,224,960,202.7C1000,181,1040,139,1080,117.3C1120,96,1160,96,1200,112C1240,128,1280,160,1320,192C1360,224,1400,256,1420,272L1440,288L1440,0L1420,0C1400,0,1360,0,1320,0C1280,0,1240,0,1200,0C1160,0,1120,0,1080,0C1040,0,1000,0,960,0C920,0,880,0,840,0C800,0,760,0,720,0C680,0,640,0,600,0C560,0,520,0,480,0C440,0,400,0,360,0C320,0,280,0,240,0C200,0,160,0,120,0C80,0,40,0,20,0L0,0Z"></path>
		</svg>
		<div class="flex-grow-1">&nbsp;</div>
	</div>
	<div class="container hero d-flex justify-content-center align-items-center">
		<div class="card shadow">
			<div class="card-body">
				<h5 class="d-md-none card-title text-center text-brand mt-5 mb-3">IdentifyMe<small>Apps</small></h5>
				<div class="row g-0 justify-content-center">
					<div class="col-9 col-md-5 p-3">
						<img src="assets/img/hero.png" class="img-fluid" alt="siswa sekolah dasar" data-aos="zoom-in" data-aos-duration="1000">
					</div>
					<div class="col-md d-flex flex-column justify-content-center px-4 pe-md-0">
						<p class="card-text text-center text-md-start mt-3 mt-md-0 mb-md-5">Hai! Kami sedang membangun <b>Sistem IT</b> yang mampu mengidentifikasi kepribadian siswa untuk digunakan dalam <b>Bidang Pendidikan</b> di Indonesia.</p>
						<h5 class="d-none d-md-block card-title text-brand">IdentifyMe<small>Apps</small></h5>
						<div class="d-md-flex pb-5 pb-md-0">
							<a href="#contribute" class="btn btn-hero btn-danger me-2" data-aos="fade-up"  data-aos-duration="500"><b>Kontribusi</b> <i class="fas fa-star"></i></a>
							<a href="#detail" class="btn btn-secondary d-none d-md-inline-block" data-aos="fade-up" data-aos-duration="400">Selengkapnya <i class="fas fa-caret-down"></i></a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</header>
<main>
	<section id="detail" class="bg-light pt-4 pb-extra text-muted">
		<div class="container-fluid overflow-hidden">
			<h2 class="mb-5" data-aos="fade-left">Apa itu <span class="text-brand">IdentifyMe</span>?</h2>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-lg">
					<p class="mb-4" data-aos="fade-up" data-aos-duration="300"><span class="text-brand">IdentifyMe</span> adalah proyek aplikasi berbasis web yang dapat digunakan dalam mengidentifikasi karakter kepribadian seseorang untuk diklasifikasikan sesuai teori empat kepribadian dasar manusia; Sanguinis, Melankolis, Kholeris, dan Plegmatis. Proyek ini didasari kebutuhan akan pentingnya proses pengenalan karakter siswa oleh guru dalam kegiatan belajar-mengajar di sekolah. Dengan mengenali kepribadian siswa, hubungan antar guru dan siswa dapat menjadi lebih baik serta meningkatkan peluang keberhasilan guru dalam mendidik siswanya. Dengan menggunakan <span class="text-brand">IdentifyMe</span>, diharapkan dapat memberikan kontribusi pada kemajuan bidang pendidikan di Indonesia.</p>
					<div class="d-none d-lg-flex mb-4">
						<img src="assets/img/undraw_my_app_re_gxtj.svg" width="50%" class="mx-auto" alt="Application on android screen">
					</div>
				</div>
				<div class="col-lg">
					<div class="d-flex mb-4">
						<img src="assets/img/undraw_professor_-8-lrt.svg" width="70%" class="mx-auto" alt="Presentation">
					</div>
					<p class="mb-4" data-aos="fade-up" data-aos-duration="800">Proyek ini dirancang berdasarkan pada penelitian kami berjudul "Sistem Klasififikasi Karakter Kepribadian Siswa Sekolah Dasar Berdasarkan Tipologi <i>Hippocrates Galenus</i> Menggunakan Metode <i>Naive-Bayes</i>" dan akan dipresentasikan dalam Sidang Skripsi Universitas Dipa Makassar pada Februari 2022.</p>
				</div>
			</div>
		</div>
	</section>
	<section id="contribute" class="pt-extra pb-extra">
		<div class="container-fluid overflow-hidden">
			<h2 class="mb-5" data-aos="fade-left">Bagaimana saya bisa berkontribusi?</h2>
		</div>
		<div class="container">
			<div class="row mb-4">
				<div class="col-md-9 col-lg-4 mb-3">
					<p class="mb-4">Proyek ini dapat dikategorikan sebagai kecerdasan buatan dan membutuhkan <i>training data</i> dalam jumlah besar. Bantu kami dengan berkontribusi sebagai berikut.</p>
				</div>
				<div class="col-md-12 col-lg"><div class="row">
					<div class="col-md">
						<div class="card bg-danger-300 mb-3"><div class="card-body">
							<h3 data-aos="fade-up" data-aos-duration="300">1</h3>
							<p class="mb-0">Kami membutuhkan data personal kamu. Bila bersedia, klik "Saya ingin berkontribusi" di bawah.</p>
						</div></div>
					</div>
					<div class="col-md">
						<div class="card bg-danger-400 text-white mb-3"><div class="card-body">
							<h3 data-aos="fade-up" data-aos-duration="600">3</h3>
							<p class="mb-0">Pilih kategori responden yang sesuai. Setiap kategori memiliki nilai akurasi yang berbeda.</p>
						</div></div>
					</div>
					<div class="col-md">
						<div class="card bg-danger text-light mb-3"><div class="card-body">
							<h3 data-aos="fade-up" data-aos-duration="900">2</h3>
							<p class="mb-0">Kamu akan mendapatkan kuesioner untuk diisi. Jawab semua pertanyaan dengan sebenar-benarnya.</p>
						</div></div>
					</div>
				</div></div>
			</div>
			<div class="d-flex justify-content-center">
				<button type="button" class="btn btn-lg btn-dark" data-aos="fade-up" data-bs-toggle="modal" data-bs-target="#contributionModal1">Saya ingin berkontribusi <i class="fas fa-star"></i></button>
			</div>
			<div></div>
		</div>
	</section>
	<section id="question" class="hide">
		<form name="formAnswer" class="container pt-extra pb-extra">
			<div id="questionsLoader"></div>
			<div class="d-flex justify-content-end px-4 mt-4">
				<button type="button" class="btn btn-secondary me-4" onclick="questionsSectionView(false)">Batal</button>
				<button type="button" class="btn btn-danger" onclick="saveAnswer()">Simpan <i class="fas fa-check"></i></button>
			</div>
		</form>
	</section>
	<section id="team" class="bg-light pt-extra pb-extra">
		<div class="container">
			<h2 class="text-dark text-center mb-5" data-aos="fade-up">Tentang Kami</h2>
			<div class="d-flex"><div class="responsive-row">
				<div class="col-auto me-3 me-md-4">
					<div class="card border-primary shadow-sm"><div class="card-body">
						<div class="d-flex justify-content-center pt-2 pb-4">
							<img src="assets/img/sabri1.jpg" alt="Sabri's picture" class="profile-picture">
						</div>
						<h5 class="text-center mb-2">Muhammad Sabri</h5>
						<p class="text-center mb-4"><small class="text-muted"><b>Teknik Informatika</b><br>Universitas Dipa Makassar</small></p>
						<div class="social d-flex justify-content-center">
							<a href="mailto:muhammadsabri1306@gmail.com" target="_blank" class="me-3" data-bs-toggle="tooltip" data-bs-placement="top" title="Email"><i class="far fa-envelope"></i></a>
							<a href="https://wa.me/6285144392944" target="_blank" data-bs-toggle="tooltip" data-bs-placement="top" title="Whatsapp"><i class="fab fa-whatsapp"></i></a>
						</div>
					</div></div>
				</div>
				<div class="col-auto">
					<div class="card border-primary shadow-sm"><div class="card-body">
						<div class="d-flex justify-content-center pt-2 pb-4">
							<img src="assets/img/dedy.jpg" alt="Dedy's picture" class="profile-picture">
						</div>
						<h5 class="text-center mb-2">Dedy Kasriadi</h5>
						<p class="text-center mb-4"><small class="text-muted"><b>Teknik Informatika</b><br>Universitas Dipa Makassar</small></p>
						<div class="social d-flex justify-content-center">
							<a href="#" class="me-3" data-bs-toggle="tooltip" data-bs-placement="top" title="Email"><i class="far fa-envelope"></i></a>
							<a href="https://wa.me/6282188618717" target="_blank" data-bs-toggle="tooltip" data-bs-placement="top" title="Whatsapp"><i class="fab fa-whatsapp"></i></a>
						</div>
					</div></div>
				</div>
			</div></div>
		</div>
	</section>
</main>
<footer class="bg-light pt-5 pb-4">
	<div class="container d-flex">
		<span class="text-muted mx-auto">Copyright <i class="far fa-copyright"></i> <b>IdentifyMe</b> 2022</span>
	</div>
</footer>
<div class="modal-components">
	<div class="modal fade" id="contributionModal1" tabindex="-1" aria-labelledby="contributionModal1Label" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="contributionModal1Label">Mulai Berkontribusi</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<h4>Kami menjamin keamanan data anda.</h4>
					<ol>
						<li>Data yang kami butuhkan berupa <b>data pribadi</b> anda, seperti; nama, gender, tempat dan tanggal lahir, dll, serta jawaban-jawaban terkait yang akan digunakan untuk mengidentifikasi karakter kepribadian anda.</li>
						<li>Data anda akan tersimpan di database kami untuk digunakan sebagai <i>training set</i> dalam rangka membangun kecerdasan sistem dalam menyelesaikan persoalan sesuai orientasi awal.</li>
						<li>Kami bertanggung jawab terhadap keamanan data anda, menjaga data anda dari kebocoran serta segala bentuk penyalahgunaan data pribadi anda.</li>
						<li>Website ini menggunakan layanan <i>Cookie</i> demi meningkatkan pelayanan terhadap pengguna. Penggunaan <i>Cookie</i> ini digunakan secara proporsional dengan mempertimbangkan keamanan data pengguna.</li>
						<li>Dengan melanjutkan, anda telah memahami dan menyetujui kebijakan privasi yang telah ditetapkan.</li>
					</ol>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
					<button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#contributionModal2">Mulai!</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="contributionModal2" tabindex="-1" aria-labelledby="contributionModal2Label" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="contributionModal2Label">Pilih Kategori Usia</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="container-fluid"><div class="row justify-content-center">
						<div class="col-auto d-flex flex-column align-items-stretch">
							<button type="button" class="btn btn-lg btn-outline-danger rounded-bottom-0" data-bs-toggle="modal" data-bs-target="#contributionModal3">Usia 6-12 tahun</button>
							<button type="button" class="btn btn-lg btn-outline-danger border-top-0 rounded-0" data-bs-toggle="modal" data-bs-target="#contributionModal3">Usia 13-16 tahun</button>
							<button type="button" class="btn btn-lg btn-outline-danger border-top-0 border-bottom-0 rounded-0" data-bs-toggle="modal" data-bs-target="#contributionModal3">Usia 17-19 tahun</button>
							<button type="button" class="btn btn-lg btn-outline-danger rounded-top-0" data-bs-toggle="modal" data-bs-target="#contributionModal3">Usia > 19 tahun</button>
						</div>
					</div></div>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="contributionModal3" tabindex="-1" aria-labelledby="contributionModal3Label" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="contributionModal3Label">Masukkan Informasi Pribadi ANda</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form name="formBio" class="container-fluid">
						<div class="mb-4">
							<label class="mb-2">Nama Lengkap</label>
							<input name="nama" type="text" class="form-control mb-2" placeholder="Nama Lengkap" required>
						</div>
						<div class="mb-4">
							<label class="mb-2">Tempat/Tanggal Lahir</label>
							<div class="row g-3">
								<div class="col">
									<input name="tmpLahir" type="text" class="form-control mb-2" placeholder="Tempat Lahir" required>
								</div>
								<div class="col-auto"><span class="form-control border-white px-0">/</span></div>
								<div class="col">
									<input name="tglLahir" value="1998-01-01" type="date" class="form-control mb-2" placeholder="Tanggal Lahir" required>
								</div>
							</div>
						</div>
						<div class="mb-4">
							<label class="mb-2">Gender/Jenis Kelamin</label>
							<div class="ms-4">
								<div class="form-check form-check-inline">
									<input name="gender" type="radio" value="L" class="form-check-input" checked>
									<label class="form-check-label">Laki-Laki</label>
								</div>
								<div class="form-check form-check-inline">
									<input name="gender" type="radio" value="P" class="form-check-input">
									<label class="form-check-label">Perempuan</label>
								</div>
							</div>
						</div>
						<div class="mb-4">
							<label class="mb-2">Alamat</label>
							<textarea name="alamat" rows="3" class="form-control mb-2" placeholder="Alamat dan Kabupaten/Kota" required></textarea>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
					<button type="button" class="btn btn-danger" onclick="startQuestion()">Berikutnya!</button>
				</div>
			</div>
		</div>
	</div>
	<div id="loaderModal" class="">
		<div class="loading-component text-white"><i class="fas fa-circle-notch fa-spin fa-3x"></i></div>
		<div class="error-component">&nbsp;</div>
	</div>
	<div id="alertPlaceHolder"></div>
</div>
<template id="questionTemplate">
	<div class="accordion-collapse"><div class="card">
		<div class="card-header bg-light">
			<h4 class="text-muted mb-0">Pertanyaan</h4>
		</div>
		<div class="card-body">
			<p class="ms-4 mb-4">Saya adalah seorang yang ...</p>
			<div class="mb-4">
				<div class="questions-choices row">
					<input type="hidden" name="" value="">
				</div>
			</div>
			<div class="d-flex justify-content-end">
				<button type="button" class="btn btn-sm btn-outline-primary questions-prev me-4"><i class="fas fa-caret-left"></i> Kembali</button>
				<button type="button" class="btn btn-sm btn-outline-primary questions-next">Lanjut <i class="fas fa-caret-right"></i></button>
			</div>
		</div>
	</div></div>
</template>
<template id="choiceTemplate">
	<div class="col-md-6 col-lg-3 pb-4">
		<div class="card" role="button" data-choice="" data-active="false" data-targetName="" onclick="changeAnswer(this)">
			<div class="card-body">
				<div class="d-flex">
					<h4 class="font-weight-800 me-3"></h4>
					<p class="mb-0"></p>
				</div>
			</div>
		</div>
	</div>
</template>
<script src="/__/firebase/8.10.1/firebase-app.js"></script>
<script src="/__/firebase/8.10.1/firebase-database.js"></script>
<script src="assets/js/firebase-init.js?v=1.0.7"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="vendor/fontawesome/js/all.min.js"></script>
<script src="vendor/aos/aos.min.js"></script>
<script src="assets/js/script.js?v=1.0.7"></script>
<script src="assets/js/data.js??v=1.0.7"></script>
<script type="text/javascript">	

AOS.init();

var dataBio = new DataForm("formBio"),
	dataAnswer = new DataForm("formAnswer");
dataBio.sync();
dataAnswer.sync();

const validate = formName => {
	const inputsElem = document.forms[formName].querySelectorAll("[required]");
	const notValid = Array.from(inputsElem).map(input => {
		return document.forms[formName][input.getAttribute("name")].value.length > 0;
	}).indexOf(false);

	return {
		elm: (notValid >= 0) ? inputsElem[notValid] : null,
		isValid: (notValid < 0)
	};
};

const readQuestionsFromDb = callback => {
	/*
	 * function callback(result){ .... }
	 *
	 */
	const db = firebase.database();
	return db.ref("questions").once("value").then(snapshot => {
		callback(snapshot.val());
	});
};

const readAnswerTypeFromDb = callback => {
	const db = firebase.database();
	return db.ref("answerType").once("value").then(snapshot => {
		callback(snapshot.val());
	});
};

const questionsSectionView = show => {
	const questionContainer = document.getElementById("question");

	if(!show) questionContainer.classList.add("hide");
	else questionContainer.classList.remove("hide");
};

const showQuestions = (questions, answerType) => {
	appendQuestion("accordionQuestion", {questions, answerType}, document.getElementById("questionsLoader"));

	dataAnswer.sync();
	if(!dataAnswer.isEmpty()){
		dataAnswer.fillForm();

		Object.entries(dataAnswer.get()).forEach(([key, val]) => {
			const activeChoiceElm = document.querySelector(`.card[data-targetName="${key}"][data-choice="${val}"]`);
			if(activeChoiceElm){
				activeChoiceElm.setAttribute("data-active", "true");
				activeChoiceElm.classList.add("bg-danger");
				activeChoiceElm.classList.add("text-white");
			}
		});
	}

	questionsSectionView(true);
};

const modalBio = document.getElementById("contributionModal3");
modalBio.addEventListener("show.bs.modal", function(event){
	dataBio.sync();

	if(!dataBio.isEmpty())
		dataBio.fillForm();
});

async function startQuestion(){
	const IS_OFFLINE = false;

	const validation = validate("formBio");
	if(!validation.isValid){
		alert("Terdapat field yang belum anda isi!");
		validation.elm.focus();
		return;
	}

	dataBio.pushAll();
	dataBio.sync();
	loader.isLoading(true).show();

	if(typeof IS_OFFLINE == "undefined" || !IS_OFFLINE){
		await readAnswerTypeFromDb(function(result){
			answerType = result;
		});
		await readQuestionsFromDb(function(result){
			questions = result;
		});
	}

	showQuestions(questions, answerType);
	bootstrap.Modal.getInstance(document.querySelector("#contributionModal3")).hide();
	loader.reset();
	location.href = "#question";
}

function changeAnswer(choiceElm){
	const isActive = choiceElm.getAttribute("data-active");
	if(isActive === "true") return;

	const choice = choiceElm.getAttribute("data-choice"),
		targetName = choiceElm.getAttribute("data-targetName");
	
	document.formAnswer[targetName].value = choice;

	document.querySelectorAll(`.card[data-targetName="${targetName}"][data-active="true"]`).forEach(card => {
		card.classList.remove("bg-danger");
		card.classList.remove("text-white");
		card.setAttribute("data-active", "false");
	});
	choiceElm.classList.add("bg-danger");
	choiceElm.classList.add("text-white");
	choiceElm.setAttribute("data-active", "true");
	

	dataAnswer.push(targetName);
	dataAnswer.sync();
}

const showSuccessAlert = () => {
	const alertPlaceHolder = document.getElementById("alertPlaceHolder"),
		wrapper = document.createElement("div"),
		styleW = (window.outerWidth < 768) ? "w-100 " : "";

	wrapper.innerHTML = `<div class="alert alert-sm alert-success alert-dismissible fade show d-flex align-items-center position-fixed top-0 start-50 translate-middle-x ${styleW}mt-md-3"><i class="fas fa-check-circle fa-2x"></i><span class="ms-2"><b>Terima kasih.</b><br>Data kamu telah berhasil disimpan.</span><button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>`;

	alertPlaceHolder.append(wrapper);
};

async function saveAnswer(){
	const validation = validate("formAnswer");
	if(!validation.isValid){
		alert("Terdapat pertanyaan yang belum anda isi!");
		validation.elm.focus();
		return;
	}

	const data = DataForm.join(dataBio, dataAnswer);
	dataBio.sync();
	dataAnswer.sync();
	let id = null;

	await firebase.database().ref('answers').orderByChild('nama').once("value").then(snapshot => {
		const result = snapshot.val();
		const index = Object.entries(result).findIndex(([key, val]) => {
			if(!val.hasOwnProperty("nama") && !val.hasOwnProperty("tglLahir") && !val.hasOwnProperty("gender"))
				return false;
			return (val.nama === data.nama) && (val.tglLahir === data.tglLahir) && (val.gender === data.gender);
		});

		if(index >= 0) id = Object.keys(result)[index];
	});

	if(id === null){
		const newPush = firebase.database().ref("answers").push();
		newPush.set(data);
		alert("Your data was saved!");
		return;
	}

	firebase.database().ref("answers/" + id).set(data);

	document.getElementById("question").classList.add("hide");
	showSuccessAlert();
}

</script>
</body>
</html>